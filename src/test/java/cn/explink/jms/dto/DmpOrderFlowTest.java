package cn.explink.jms.dto;

import java.io.IOException;

import org.codehaus.jackson.JsonParseException;
import org.codehaus.jackson.map.JsonMappingException;
import org.codehaus.jackson.map.ObjectMapper;
import org.junit.Test;

import cn.explink.b2c.tools.JacksonMapper;

public class DmpOrderFlowTest {

	@Test
	public void testRead() throws JsonParseException, JsonMappingException, IOException{
		String json="{\"floworderid\":5564,\"cwb\":\"12062107762520\",\"branchid\":192,\"credate\":1354522599703,\"userid\":1000,\"flowordertype\":9,\"isnow\":0,\"floworderdetail\":\"{\\\"cwbOrder\\\":{\\\"backcaramount\\\":0,\\\"backcarname\\\":\\\"\\\",\\\"backcarnum\\\":0,\\\"backreason\\\":\\\"\\\",\\\"backreasonid\\\":0,\\\"backtocustomer_awb\\\":\\\"\\\",\\\"businessFee\\\":302,\\\"caramount\\\":0,\\\"carrealweight\\\":0,\\\"carsize\\\":\\\"\\\",\\\"cartype\\\":\\\"\\\",\\\"carwarehouse\\\":\\\"187\\\",\\\"commoncwb\\\":\\\"\\\",\\\"commonid\\\":0,\\\"consigneeaddress\\\":\\\"江西省赣州市章贡区理工西校区\\\",\\\"consigneemobile\\\":\\\"15626007119\\\",\\\"consigneename\\\":\\\"胡保利\\\",\\\"consigneeno\\\":\\\"\\\",\\\"consigneephone\\\":\\\"-\\\",\\\"consigneepostcode\\\":\\\"341000\\\",\\\"currentbranchid\\\":192,\\\"customercommand\\\":\\\"送货时间不限\\\",\\\"customerid\\\":127,\\\"customerwarehouseid\\\":\\\"0\\\",\\\"cwb\\\":\\\"12062107762520\\\",\\\"cwbcity\\\":\\\"\\\",\\\"cwbcounty\\\":\\\"\\\",\\\"cwbdelivertypeid\\\":\\\"0\\\",\\\"cwbflowflag\\\":\\\"1\\\",\\\"cwbordertypeName\\\":\\\"配送\\\",\\\"cwbordertypeid\\\":\\\"1\\\",\\\"cwbprovince\\\":\\\"\\\",\\\"cwbreachbranchid\\\":0,\\\"cwbreachdeliverbranchid\\\":0,\\\"cwbremark\\\":\\\"\\\",\\\"cwbstate\\\":1,\\\"deliverid\\\":1001,\\\"deliversubscribeday\\\":\\\"\\\",\\\"deliverybranchid\\\":192,\\\"destination\\\":\\\"\\\",\\\"emaildate\\\":\\\"2012-12-03 12:03:00\\\",\\\"emaildateid\\\":17,\\\"emailfinishflag\\\":0,\\\"emailfinishflagName\\\":\\\"未到货\\\",\\\"excelbranch\\\":\\\"国贸站\\\",\\\"exceldeliver\\\":\\\"\\\",\\\"excelimportuserid\\\":1,\\\"flowordertype\\\":9,\\\"isaudit\\\":0,\\\"leavedreason\\\":\\\"\\\",\\\"leavedreasonid\\\":0,\\\"modelname\\\":\\\"\\\",\\\"multi_shipcwb\\\":\\\"\\\",\\\"newpaywayid\\\":\\\"1\\\",\\\"nextbranchid\\\":0,\\\"opscwbid\\\":5501,\\\"orderflowid\\\":0,\\\"out\\\":false,\\\"paybackfee\\\":0,\\\"paywayid\\\":1,\\\"podfeetoheadcheckflag\\\":\\\"0\\\",\\\"podfeetoheadchecktime\\\":\\\"\\\",\\\"podfeetoheadflag\\\":\\\"0\\\",\\\"podfeetoheadtime\\\":\\\"\\\",\\\"podrealname\\\":\\\"\\\",\\\"podsignremark\\\":\\\"\\\",\\\"podtime\\\":\\\"\\\",\\\"printtime\\\":\\\"\\\",\\\"reacherrorflag\\\":1,\\\"receivablefee\\\":302,\\\"remark1\\\":\\\"\\\",\\\"remark2\\\":\\\"\\\",\\\"remark3\\\":\\\"\\\",\\\"remark4\\\":\\\"\\\",\\\"remark5\\\":\\\"\\\",\\\"scannum\\\":0,\\\"sendcarname\\\":\\\"[发出商品]\\\",\\\"sendcarnum\\\":0,\\\"serviceareaid\\\":0,\\\"shipcwb\\\":\\\"\\\",\\\"shipperid\\\":0,\\\"signtypeid\\\":0,\\\"startbranchid\\\":192,\\\"state\\\":1,\\\"transcwb\\\":\\\"\\\",\\\"transway\\\":\\\"\\\",\\\"tuihuoid\\\":187},\\\"deliveryState\\\":{\\\"backcarname\\\":\\\"\\\",\\\"backcarnum\\\":0,\\\"backreason\\\":\\\"\\\",\\\"businessfee\\\":302,\\\"cash\\\":0,\\\"checkfee\\\":0,\\\"checkremark\\\":\\\"\\\",\\\"consigneeaddress\\\":\\\"\\\",\\\"consigneemobile\\\":\\\"\\\",\\\"consigneename\\\":\\\"\\\",\\\"consigneephone\\\":\\\"\\\",\\\"createtime\\\":\\\"2012-12-03 16:16:39\\\",\\\"customerid\\\":0,\\\"cwb\\\":\\\"12062107762520\\\",\\\"cwbordertypeid\\\":\\\"1\\\",\\\"deliverealname\\\":\\\"\\\",\\\"deliverstateremark\\\":\\\"\\\",\\\"deliveryid\\\":1001,\\\"deliverystate\\\":0,\\\"difference\\\":-0,\\\"emaildate\\\":\\\"\\\",\\\"flowordertype\\\":0,\\\"gcaid\\\":0,\\\"id\\\":6,\\\"isout\\\":1,\\\"leavedreason\\\":\\\"\\\",\\\"mobilepodtime\\\":{\\\"date\\\":3,\\\"day\\\":1,\\\"hours\\\":16,\\\"minutes\\\":16,\\\"month\\\":11,\\\"nanos\\\":0,\\\"seconds\\\":39,\\\"time\\\":1354522599000,\\\"timezoneOffset\\\":-480,\\\"year\\\":112},\\\"otherfee\\\":0,\\\"paymentPattern\\\":\\\"现金\\\",\\\"podremarkid\\\":0,\\\"pos\\\":0,\\\"pos_feedback_flag\\\":0,\\\"posremark\\\":\\\"\\\",\\\"receivedfee\\\":0,\\\"receivedfeeuser\\\":0,\\\"remarks\\\":\\\"　POS:　支票号：　自定义：\\\",\\\"returnedfee\\\":0,\\\"sendcarname\\\":\\\"\\\",\\\"sendcarnum\\\":0,\\\"sign_man\\\":\\\"\\\",\\\"sign_time\\\":\\\"\\\",\\\"sign_typeid\\\":0,\\\"userid\\\":1000}}\",\"flowordertypeText\":\"分站领货\",\"flowordertypeMethod\":\"ReceiveGoods\"}";
		
		DmpOrderFlow readValue = JacksonMapper.getInstance().readValue(json, DmpOrderFlow.class);
		
		CwbOrderWithDeliveryState cwbOrderWithDeliveryState=JacksonMapper.getInstance().readValue(readValue.getFloworderdetail(), CwbOrderWithDeliveryState.class);
	}
}
